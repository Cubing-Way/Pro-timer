{
  "version": 3,
  "sources": ["../../src/scramble-display/index.ts", "../../src/scramble-display/ScrambleDisplay.ts", "../../src/scramble-display/css.ts", "../../src/scramble-display/bundle-global.ts"],
  "sourcesContent": ["export { ScrambleDisplay } from \"./ScrambleDisplay\";\n", "import { Alg } from \"cubing/alg\";\nimport { eventInfo } from \"cubing/puzzles\";\nimport { TwistyPlayer } from \"cubing/twisty\";\nimport { mainStyleText } from \"./css\";\n\nexport type Visualization = \"2D\" | \"3D\";\n\ntype EventID = string;\n\nconst CUBE_333: EventID = \"333\";\nconst DEFAULT_EVENT: EventID = CUBE_333;\n\nexport type ScrambleDisplayAttributes = {\n  event?: EventID;\n  scramble?: string;\n  visualization?: Visualization;\n  checkered?: boolean;\n};\n\nexport type CachedAttributes = {\n  eventID: EventID | null;\n  scramble: Alg;\n  visualization: Visualization | null;\n  checkered: boolean;\n};\n\nexport class ScrambleDisplay extends HTMLElement {\n  #shadow: ShadowRoot;\n  #wrapper: HTMLDivElement = document.createElement(\"div\");\n  #currentAttributes: CachedAttributes = {\n    eventID: null,\n    scramble: new Alg(),\n    visualization: null,\n    checkered: false,\n  };\n  #twistyPlayer: TwistyPlayer = new TwistyPlayer({\n    controlPanel: \"none\",\n    hintFacelets: \"none\",\n    visualization: \"2D\",\n    background: \"none\",\n  });\n\n  // Note: You should avoid setting properties like `alg` or `visualization`\n  // directly on the twisty player, since `<scramble-display>` may overwrite\n  // them again. However, we make the player available this way in case you may\n  // find it convenient to have access for other purposes.\n  get player(): TwistyPlayer {\n    return this.#twistyPlayer;\n  }\n\n  // TODO: Accept ScrambleDisplayAttributes arg?\n  constructor() {\n    super();\n\n    this.#shadow = this.attachShadow({ mode: \"closed\" });\n    this.#wrapper.classList.add(\"wrapper\");\n    this.#shadow.appendChild(this.#wrapper);\n\n    // TODO: change style depending on event/view type?\n    const style = document.createElement(\"style\");\n    style.textContent = mainStyleText;\n    this.#shadow.appendChild(style);\n  }\n\n  connectedCallback(): void {\n    this.#wrapper.appendChild(this.#twistyPlayer);\n  }\n\n  public set event(eventID: EventID | null) {\n    const info = eventInfo(eventID ?? DEFAULT_EVENT);\n    this.#twistyPlayer.puzzle = info?.puzzleID ?? \"3x3x3\";\n    this.#currentAttributes.eventID = eventID;\n  }\n  public get event(): EventID | null {\n    return this.#currentAttributes.eventID;\n  }\n\n  public set scramble(scramble: Alg | string | null) {\n    const alg = new Alg(scramble ?? \"\");\n    this.#twistyPlayer.alg = alg;\n    this.#currentAttributes.scramble = alg;\n\n    this.#wrapper.setAttribute(\"title\", alg.toString());\n  }\n\n  public get scramble(): Alg {\n    return this.#currentAttributes.scramble;\n  }\n\n  public set visualization(visualization: Visualization | null) {\n    this.#twistyPlayer.visualization = visualization ?? \"2D\";\n    this.#currentAttributes.visualization = visualization;\n  }\n  public get visualization(): Visualization | null {\n    return this.#currentAttributes.visualization;\n  }\n\n  public set checkered(checkered: boolean) {\n    const checkeredBoolean = !!checkered;\n    this.#twistyPlayer.background = checkeredBoolean ? \"checkered\" : \"none\";\n    this.#currentAttributes.checkered = checkeredBoolean;\n  }\n  public get checkered(): boolean {\n    return this.#currentAttributes.checkered;\n  }\n\n  protected attributeChangedCallback(\n    name: string,\n    _oldValue: string,\n    newValue: string,\n  ) {\n    switch (name) {\n      case \"event\": {\n        this.event = newValue as EventID;\n        break;\n      }\n      case \"scramble\": {\n        this.scramble = newValue;\n        break;\n      }\n      case \"visualization\": {\n        this.visualization = newValue as Visualization;\n        break;\n      }\n      case \"checkered\": {\n        this.checkered = newValue !== null;\n        break;\n      }\n    }\n  }\n\n  protected static get observedAttributes(): Array<\n    keyof ScrambleDisplayAttributes\n  > {\n    return [\"event\", \"scramble\", \"visualization\", \"checkered\"];\n  }\n}\n\ncustomElements.define(\"scramble-display\", ScrambleDisplay);\n", "export const mainStyleText = `\n:host {\n  width: 384px;\n  height: 256px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n  place-content: center;\n  overflow: hidden;\n}\n\n.wrapper > * {\n  width: inherit;\n  height: inherit;\n  overflow: hidden;\n}\n\ntwisty-player {\n  width: 100%;\n  height: 100%;\n}\n`;\n", "import * as ScrambleDisplay from \".\";\n\n// biome-ignore lint/suspicious/noExplicitAny: for debugging\n(globalThis as any).ScrambleDisplay = ScrambleDisplay;\n"],
  "mappings": "0FAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,qBAAAE,ICAA,OAAS,OAAAC,MAAW,aACpB,OAAS,aAAAC,MAAiB,iBAC1B,OAAS,gBAAAC,MAAoB,gBCFtB,IAAMC,EAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EDS7B,IAAMC,EAAoB,MACpBC,EAAyBD,EAgBlBE,EAAN,cAA8B,WAAY,CAC/CC,GACAC,GAA2B,SAAS,cAAc,KAAK,EACvDC,GAAuC,CACrC,QAAS,KACT,SAAU,IAAIC,EACd,cAAe,KACf,UAAW,EACb,EACAC,GAA8B,IAAIC,EAAa,CAC7C,aAAc,OACd,aAAc,OACd,cAAe,KACf,WAAY,MACd,CAAC,EAMD,IAAI,QAAuB,CACzB,OAAO,KAAKD,EACd,CAGA,aAAc,CACZ,MAAM,EAEN,KAAKJ,GAAU,KAAK,aAAa,CAAE,KAAM,QAAS,CAAC,EACnD,KAAKC,GAAS,UAAU,IAAI,SAAS,EACrC,KAAKD,GAAQ,YAAY,KAAKC,EAAQ,EAGtC,IAAMK,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,YAAcC,EACpB,KAAKP,GAAQ,YAAYM,CAAK,CAChC,CAEA,mBAA0B,CACxB,KAAKL,GAAS,YAAY,KAAKG,EAAa,CAC9C,CAEA,IAAW,MAAMI,EAAyB,CACxC,IAAMC,EAAOC,EAAUF,GAAWV,CAAa,EAC/C,KAAKM,GAAc,OAASK,GAAM,UAAY,QAC9C,KAAKP,GAAmB,QAAUM,CACpC,CACA,IAAW,OAAwB,CACjC,OAAO,KAAKN,GAAmB,OACjC,CAEA,IAAW,SAASS,EAA+B,CACjD,IAAMC,EAAM,IAAIT,EAAIQ,GAAY,EAAE,EAClC,KAAKP,GAAc,IAAMQ,EACzB,KAAKV,GAAmB,SAAWU,EAEnC,KAAKX,GAAS,aAAa,QAASW,EAAI,SAAS,CAAC,CACpD,CAEA,IAAW,UAAgB,CACzB,OAAO,KAAKV,GAAmB,QACjC,CAEA,IAAW,cAAcW,EAAqC,CAC5D,KAAKT,GAAc,cAAgBS,GAAiB,KACpD,KAAKX,GAAmB,cAAgBW,CAC1C,CACA,IAAW,eAAsC,CAC/C,OAAO,KAAKX,GAAmB,aACjC,CAEA,IAAW,UAAUY,EAAoB,CACvC,IAAMC,EAAmB,CAAC,CAACD,EAC3B,KAAKV,GAAc,WAAaW,EAAmB,YAAc,OACjE,KAAKb,GAAmB,UAAYa,CACtC,CACA,IAAW,WAAqB,CAC9B,OAAO,KAAKb,GAAmB,SACjC,CAEU,yBACRc,EACAC,EACAC,EACA,CACA,OAAQF,EAAM,CACZ,IAAK,QAAS,CACZ,KAAK,MAAQE,EACb,KACF,CACA,IAAK,WAAY,CACf,KAAK,SAAWA,EAChB,KACF,CACA,IAAK,gBAAiB,CACpB,KAAK,cAAgBA,EACrB,KACF,CACA,IAAK,YAAa,CAChB,KAAK,UAAYA,IAAa,KAC9B,KACF,CACF,CACF,CAEA,WAAqB,oBAEnB,CACA,MAAO,CAAC,QAAS,WAAY,gBAAiB,WAAW,CAC3D,CACF,EAEA,eAAe,OAAO,mBAAoBnB,CAAe,EEvIxD,WAAmB,gBAAkBoB",
  "names": ["index_exports", "__export", "ScrambleDisplay", "Alg", "eventInfo", "TwistyPlayer", "mainStyleText", "CUBE_333", "DEFAULT_EVENT", "ScrambleDisplay", "#shadow", "#wrapper", "#currentAttributes", "Alg", "#twistyPlayer", "TwistyPlayer", "style", "mainStyleText", "eventID", "info", "eventInfo", "scramble", "alg", "visualization", "checkered", "checkeredBoolean", "name", "_oldValue", "newValue", "index_exports"]
}
