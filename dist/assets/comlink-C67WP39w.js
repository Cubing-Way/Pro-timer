const _="modulepreload",L=function(e){return"/"+e},S={},X=function(t,n,d){let a=Promise.resolve();if(n&&n.length>0){let f=function(r){return Promise.all(r.map(l=>Promise.resolve(l).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");a=f(n.map(r=>{if(r=L(r),r in S)return;S[r]=!0;const l=r.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":_,l||(c.as="script"),c.crossOrigin="",c.href=r,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((m,N)=>{c.addEventListener("load",m),c.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${r}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function W(e){const t=new WeakMap,n=e;return{postMessage:e.postMessage.bind(e),addEventListener:(a,s)=>{const i=o=>{"handleEvent"in s?s.handleEvent({data:o}):s({data:o})};e.on("message",i),t.set(s,i)},removeEventListener:(a,s)=>{const i=t.get(s);i&&(e.off("message",i),t.delete(s))},nodeWorker:n,terminate:()=>{n.terminate()}}}var J=W;const x=Symbol("Comlink.proxy"),z=Symbol("Comlink.endpoint"),H=Symbol("Comlink.releaseProxy"),k=Symbol("Comlink.finalizer"),h=Symbol("Comlink.thrown"),A=e=>typeof e=="object"&&e!==null||typeof e=="function",U={canHandle:e=>A(e)&&e[x],serialize(e){const{port1:t,port2:n}=new MessageChannel;return R(e,t),[n,[n]]},deserialize(e){return e.start(),D(e)}},j={canHandle:e=>A(e)&&h in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},C=new Map([["proxy",U],["throw",j]]);function V(e,t){for(const n of e)if(t===n||n==="*"||n instanceof RegExp&&n.test(t))return!0;return!1}function R(e,t=globalThis,n=["*"]){t.addEventListener("message",function d(a){if(!a||!a.data)return;if(!V(n,a.origin)){console.warn(`Invalid origin '${a.origin}' for comlink proxy`);return}const{id:s,type:i,path:o}=Object.assign({path:[]},a.data),f=(a.data.argumentList||[]).map(g);let r;try{const l=o.slice(0,-1).reduce((c,m)=>c[m],e),u=o.reduce((c,m)=>c[m],e);switch(i){case"GET":r=u;break;case"SET":l[o.slice(-1)[0]]=g(a.data.value),r=!0;break;case"APPLY":r=u.apply(l,f);break;case"CONSTRUCT":{const c=new u(...f);r=Y(c)}break;case"ENDPOINT":{const{port1:c,port2:m}=new MessageChannel;R(e,m),r=G(c,[c])}break;case"RELEASE":r=void 0;break;default:return}}catch(l){r={value:l,[h]:0}}Promise.resolve(r).catch(l=>({value:l,[h]:0})).then(l=>{const[u,c]=b(l);t.postMessage(Object.assign(Object.assign({},u),{id:s}),c),i==="RELEASE"&&(t.removeEventListener("message",d),T(t),k in e&&typeof e[k]=="function"&&e[k]())}).catch(l=>{const[u,c]=b({value:new TypeError("Unserializable return value"),[h]:0});t.postMessage(Object.assign(Object.assign({},u),{id:s}),c)})}),t.start&&t.start()}function I(e){return e.constructor.name==="MessagePort"}function T(e){I(e)&&e.close()}function D(e,t){const n=new Map;return e.addEventListener("message",function(a){const{data:s}=a;if(!s||!s.id)return;const i=n.get(s.id);if(i)try{i(s)}finally{n.delete(s.id)}}),P(e,n,[],t)}function E(e){if(e)throw new Error("Proxy has been released and is not useable")}function v(e){return y(e,new Map,{type:"RELEASE"}).then(()=>{T(e)})}const w=new WeakMap,p="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(w.get(e)||0)-1;w.set(e,t),t===0&&v(e)});function F(e,t){const n=(w.get(t)||0)+1;w.set(t,n),p&&p.register(e,t,e)}function $(e){p&&p.unregister(e)}function P(e,t,n=[],d=function(){}){let a=!1;const s=new Proxy(d,{get(i,o){if(E(a),o===H)return()=>{$(s),v(e),t.clear(),a=!0};if(o==="then"){if(n.length===0)return{then:()=>s};const f=y(e,t,{type:"GET",path:n.map(r=>r.toString())}).then(g);return f.then.bind(f)}return P(e,t,[...n,o])},set(i,o,f){E(a);const[r,l]=b(f);return y(e,t,{type:"SET",path:[...n,o].map(u=>u.toString()),value:r},l).then(g)},apply(i,o,f){E(a);const r=n[n.length-1];if(r===z)return y(e,t,{type:"ENDPOINT"}).then(g);if(r==="bind")return P(e,t,n.slice(0,-1));const[l,u]=M(f);return y(e,t,{type:"APPLY",path:n.map(c=>c.toString()),argumentList:l},u).then(g)},construct(i,o){E(a);const[f,r]=M(o);return y(e,t,{type:"CONSTRUCT",path:n.map(l=>l.toString()),argumentList:f},r).then(g)}});return F(s,e),s}function q(e){return Array.prototype.concat.apply([],e)}function M(e){const t=e.map(b);return[t.map(n=>n[0]),q(t.map(n=>n[1]))]}const O=new WeakMap;function G(e,t){return O.set(e,t),e}function Y(e){return Object.assign(e,{[x]:!0})}function b(e){for(const[t,n]of C)if(n.canHandle(e)){const[d,a]=n.serialize(e);return[{type:"HANDLER",name:t,value:d},a]}return[{type:"RAW",value:e},O.get(e)||[]]}function g(e){switch(e.type){case"HANDLER":return C.get(e.name).deserialize(e.value);case"RAW":return e.value}}function y(e,t,n,d){return new Promise(a=>{const s=B();t.set(s,a),e.start&&e.start(),e.postMessage(Object.assign({id:s},n),d)})}function B(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}export{X as _,R as e,J as n,D as w};
